@using pi = PizzaStore.Domain.Models.Pizza;
@using PizzaStore.ClientV1.ViewModels;
@using PizzaStore.ClientV1.Models;
@model PizzaStore.ClientV1.Models.Order


@using (@Html.BeginForm("Post", "Order", FormMethod.Post))
{
    int i = Model.Pizzas.Count();
    var pizza = new pi.Pizza();
    Model.Pizzas.Add(pizza);

    <p>Choose a size</p>
    foreach (var size in SizeViewModel.GetSizes())
    {
        @Html.RadioButtonFor(s => s.Pizzas[i].Size, size.Name)
        @Html.LabelFor(m => m.Pizzas[i].Size, size.Name + " $" + size.Price)
        <br />
    }

    <br />
    <p>Choose a crust</p>
    foreach (var crust in CrustViewModel.GetCrusts())
    {
        @Html.RadioButtonFor(m => m.Pizzas[i].Crust, crust.Name)
        @Html.LabelFor(m => m.Pizzas[i].Crust, crust.Name + " $" + crust.Price)
        <br />
    }

    <br />
    <p>Choose 2-5 toppings</p>
    foreach (var topping in ToppingViewModel.GetToppings())
    {
        <input type="checkbox" value="@topping.Name" />
        @Html.LabelFor(m => m.Pizzas[i].Toppings, topping.Name + " $" + topping.Price)
        <br />
    }

    <button type="submit" name="AddPizzaToOrder" value="@Model">Add Pizza to Order</button>
}
